services:
  openclaw:
    build: .
    image: openclaw:local
    container_name: openclaw-assistant
    ports:
      - "9001:18789"
    env_file:
      - .env
    environment:
      - NODE_ENV=production
    volumes:
      # Agar konfigurasi dan data tersimpan di komputer host
      - ./openclaw.json:/app/openclaw.json
      - ./workspace:/app/workspace
    restart: unless-stopped
    # Menggunakan --bind 0.0.0.0 agar bisa diakses dari luar container melalui port 9001
    command: [ "node", "openclaw.mjs", "gateway", "--allow-unconfigured", "--bind", "0.0.0.0", "--port", "18789" ]
